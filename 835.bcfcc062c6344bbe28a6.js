"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[835],{862:(y,u,o)=>{o.r(u),o.d(u,{CategoriesModule:()=>x});var t=o(8583),m=o(2903),l=o(1686),e=o(639),c=o(4655),d=o(3686),Z=o(8270),p=o(3013),f=o(7703),h=o(2872);function _(s,v){if(1&s){const i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",4),e.NdJ("click",function(){const A=e.CHM(i).$implicit;return e.oxw().showModal(A._id)}),e.TgZ(2,"div",5),e._UZ(3,"img",6),e.qZA(),e.TgZ(4,"div",7),e.TgZ(5,"h3",8),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"div",9),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"div",10),e.TgZ(10,"div",11),e.TgZ(11,"div",12),e.TgZ(12,"div",13),e._uU(13),e.qZA(),e.TgZ(14,"div",14),e.TgZ(15,"span"),e._uU(16,"Are you sure you want to start this game ?"),e.qZA(),e.TgZ(17,"p",15),e.TgZ(18,"b"),e._uU(19,"Game description:"),e.qZA(),e._uU(20),e.qZA(),e.TgZ(21,"p",15),e.TgZ(22,"b"),e._uU(23,"Warning:"),e.qZA(),e._uU(24," To pass the test you must obtain a grade minimum of 60 points, otherwise you will fail the test. "),e.qZA(),e.qZA(),e.TgZ(25,"div",16),e.TgZ(26,"button",17),e.NdJ("click",function(){const A=e.CHM(i).$implicit;return e.oxw().startGame(A._id)}),e._uU(27,"Yes, let's play !"),e.qZA(),e.TgZ(28,"button",18),e.NdJ("click",function(){const A=e.CHM(i).$implicit;return e.oxw().dismissModal(A._id)}),e._uU(29,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const i=v.$implicit;e.xp6(6),e.Oqu(i.name),e.xp6(2),e.hij(" ",i.description," "),e.xp6(1),e.s9C("id",i._id),e.xp6(4),e.hij(" ",i.name," "),e.xp6(7),e.hij(" ",i.description," ")}}function r(s,v){1&s&&(e.TgZ(0,"div",19),e.TgZ(1,"div",20),e._UZ(2,"img",21),e.qZA(),e.TgZ(3,"div",22),e.TgZ(4,"span",23),e._uU(5,"Whoops !"),e.qZA(),e.TgZ(6,"p",24),e._uU(7,"There is not games to show. Here, there will be listed all the available categories that you can play !"),e.qZA(),e.qZA(),e.qZA())}const g=[{path:"",component:(()=>{class s{constructor(i,T,C,A,M){this.categoryService=i,this.spinner=T,this.router=C,this.utilsService=A,this.messageService=M,this.categories=[]}ngOnInit(){this.getCategories(),!0===history.state.categoryCreated&&setTimeout(()=>{this.utilsService.showToastMessage("categoriesPage","success","Create game","The game was created with success.",this.messageService)},1e3)}getCategories(){this.spinner.show(),this.categoryService.getCategories().subscribe(i=>{this.categories=i.categories,this.spinner.hide()},i=>{this.spinner.hide(),this.utilsService.showToastMessage("categoriesPage","error","Error getting the categories","Something went wrong getting the categories data.",this.messageService),console.log(i)})}startGame(i){this.router.navigate(["/game",i])}showModal(i){document.getElementById(i).style.display="block"}dismissModal(i){document.getElementById(i).style.display="none"}}return s.\u0275fac=function(i){return new(i||s)(e.Y36(c.H),e.Y36(d.t2),e.Y36(l.F0),e.Y36(Z.F),e.Y36(p.ez))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-categories"]],decls:5,vars:2,consts:[[1,"categories","d-flex","justify-content-between","flex-wrap","mt-4"],[4,"ngFor","ngForOf"],["class","drawing-background",4,"ngIf"],["key","categoriesPage","position","top-center"],[1,"category","m-2","cursor-pointer",3,"click"],[1,"category__image","mb-4"],["src","assets/img/options.svg"],[1,"category__head"],[1,"text-center"],[1,"category__content","text-center"],[1,"w3-modal","modal-custom",3,"id"],[1,"w3-modal-content"],[1,"w3-container"],[1,"w3-container__header"],[1,"w3-container__body"],[1,"mt-3"],[1,"w3-container__footer"],[1,"btn-custom","btn-custom--sm","btn-custom--blue",3,"click"],[1,"btn-custom","btn-custom--gray","btn-custom--sm",3,"click"],[1,"drawing-background"],[1,"drawing-background__image"],["src","assets/img/box.png"],[1,"drawing-background__content"],[1,"drawing-background__content-title"],[1,"drawing-background__content-description"]],template:function(i,T){1&i&&(e.TgZ(0,"app-layout"),e.TgZ(1,"div",0),e.YNc(2,_,30,5,"div",1),e.YNc(3,r,8,0,"div",2),e.qZA(),e._UZ(4,"p-toast",3),e.qZA()),2&i&&(e.xp6(2),e.Q6J("ngForOf",T.categories),e.xp6(1),e.Q6J("ngIf",0===T.categories.length))},directives:[f.$,t.sg,t.O5,h.FN],styles:[".categories[_ngcontent-%COMP%]{margin-bottom:1.7rem}.category[_ngcontent-%COMP%]{cursor:pointer;padding:2rem;border-radius:.5rem;transition:.3s all;width:35rem;height:25rem;overflow:hidden}.category__content[_ngcontent-%COMP%]{color:#979ea2}.category[_ngcontent-%COMP%]:hover{background-color:#212e36}.category__image[_ngcontent-%COMP%]{width:7rem;margin:auto}.drawing-background[_ngcontent-%COMP%]{margin:8rem auto;display:flex;flex-direction:column;align-items:center}.drawing-background__image[_ngcontent-%COMP%]{width:7rem}.drawing-background__image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;vertical-align:top}.drawing-background__content[_ngcontent-%COMP%]{color:#979ea2;display:flex;flex-direction:column;align-items:center}.drawing-background__content-title[_ngcontent-%COMP%]{font-weight:bold;font-size:20px}.drawing-background__content-description[_ngcontent-%COMP%]{width:30rem;text-align:center}"]}),s})(),canActivate:[o(5107).a]}];let U=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[l.Bz.forChild(g)],l.Bz]}),s})();var q=o(3077);let x=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[t.ez,U,m.m,q.x]]}),s})()},9574:(y,u,o)=>{o.d(u,{G:()=>_});var t=o(639),m=o(3071),l=o(8270),e=o(1686),c=o(8583);function d(r,a){if(1&r&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"div",4),t.TgZ(4,"div",5),t._uU(5," My Profile "),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"span"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div",8),t.TgZ(11,"p"),t._uU(12,"Here, you will find all your profile information. Sensitive information will not be displayed."),t.qZA(),t.qZA(),t.TgZ(13,"div",9),t.TgZ(14,"div",10),t.TgZ(15,"div",11),t.TgZ(16,"div",12),t.TgZ(17,"label"),t._uU(18,"Full name"),t.qZA(),t.TgZ(19,"p"),t._uU(20),t.qZA(),t.qZA(),t.TgZ(21,"div",12),t.TgZ(22,"label"),t._uU(23,"Email"),t.qZA(),t.TgZ(24,"p"),t._uU(25),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",13),t.TgZ(27,"div",12),t.TgZ(28,"label"),t._uU(29,"Account Status"),t.qZA(),t.TgZ(30,"p"),t._uU(31),t.qZA(),t.qZA(),t.TgZ(32,"div",12),t.TgZ(33,"label"),t._uU(34,"Account"),t.qZA(),t.TgZ(35,"p"),t._uU(36),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(37,"div",14),t.TgZ(38,"button",15),t._uU(39,"Close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){const n=t.oxw();t.xp6(9),t.Oqu(n.utilsService.firstLetter(n.identity.fullName)),t.xp6(11),t.Oqu(n.identity.fullName),t.xp6(5),t.Oqu(n.identity.email),t.xp6(6),t.Oqu(!1===n.identity.status?"Disavailale":"Active"),t.xp6(5),t.Oqu("ADMIN_ROLE"===n.identity.role?"Admin Account":"User Account")}}let Z=(()=>{class r{constructor(n,g){this.utilsService=n,this.userService=g,this.identity=this.userService.getIdentity()}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(l.F),t.Y36(m.K))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile"]],decls:1,vars:1,consts:[["class","modal fade modal-custom modal-custom--profile","id","profileModal","tabindex","-1","aria-labelledby","profileModalLabel","aria-hidden","true",4,"ngIf"],["id","profileModal","tabindex","-1","aria-labelledby","profileModalLabel","aria-hidden","true",1,"modal","fade","modal-custom","modal-custom--profile"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"modal-custom__head"],[1,"modal-custom__body","profile"],[1,"user-info__image"],[1,"profile__head"],[1,"profile__content"],[1,"row"],[1,"col-md-6"],[1,"profile__group"],[1,"col-md-6","ml-3"],[1,"modal-custom__footer","float-end"],["data-bs-dismiss","modal",1,"btn-custom","btn-custom--gray","btn-custom--sm"]],template:function(n,g){1&n&&t.YNc(0,d,40,5,"div",0),2&n&&t.Q6J("ngIf",g.identity)},directives:[c.O5],styles:[".profile[_ngcontent-%COMP%] > .user-info__image[_ngcontent-%COMP%]{margin:auto;font-size:20px;width:5rem;height:5rem}.profile__head[_ngcontent-%COMP%]{margin-top:2rem}.profile__content[_ngcontent-%COMP%]{margin-top:2rem}.profile__group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#e2f3f5}.profile__group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}"]}),r})();function p(r,a){if(1&r&&(t.TgZ(0,"div",16),t.TgZ(1,"div",17),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"span",18),t._uU(5),t.qZA(),t.qZA()),2&r){const n=t.oxw();t.xp6(3),t.Oqu(n.utilsService.firstLetter(n.identity.fullName)),t.xp6(2),t.Oqu(n.identity.fullName)}}function f(r,a){1&r&&(t.TgZ(0,"li"),t.TgZ(1,"a",32),t._UZ(2,"i",33),t._uU(3,"Create Game"),t.qZA(),t.qZA())}function h(r,a){if(1&r&&(t.TgZ(0,"ul",19),t.TgZ(1,"div",20),t.TgZ(2,"div",17),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"div",21),t.TgZ(6,"span",18),t._uU(7),t.qZA(),t.TgZ(8,"span",22),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"li"),t.TgZ(11,"a",23),t._UZ(12,"i",24),t._uU(13,"Profile"),t.qZA(),t.qZA(),t.YNc(14,f,4,0,"li",25),t.TgZ(15,"li"),t.TgZ(16,"a",26),t._UZ(17,"i",27),t._uU(18,"View ranking"),t.qZA(),t.qZA(),t.TgZ(19,"li"),t.TgZ(20,"a",28),t._UZ(21,"i",29),t._uU(22,"Support"),t.qZA(),t.qZA(),t.TgZ(23,"li"),t.TgZ(24,"a",30),t._UZ(25,"i",31),t._uU(26,"Log out"),t.qZA(),t.qZA(),t.qZA()),2&r){const n=t.oxw();t.xp6(4),t.Oqu(n.utilsService.firstLetter(n.identity.fullName)),t.xp6(3),t.Oqu(n.identity.fullName),t.xp6(2),t.Oqu(n.identity.email),t.xp6(5),t.Q6J("ngIf","ADMIN_ROLE"===n.identity.role)}}let _=(()=>{class r{constructor(n,g){this.userService=n,this.utilsService=g,this.identity=this.userService.getIdentity()}ngOnInit(){}logout(){this.userService.logout()}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(m.K),t.Y36(l.F))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-header"]],decls:26,vars:2,consts:[[1,"header"],["routerLink","/home",1,"logo"],[1,"logo__text"],[1,"logo__subtext"],[1,"dropdown-custom"],["class","user-info","id","dropdownMenuButton1","data-bs-toggle","dropdown",4,"ngIf"],["class","dropdown-menu mt-4","aria-labelledby","dropdownMenuButton1",4,"ngIf"],["id","logoutModal","tabindex","-1","aria-labelledby","logoutModalLabel","aria-hidden","true",1,"modal","fade","modal-custom"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"modal-custom__head"],[1,"modal-custom__body"],[1,"modal-custom__footer","float-end"],["data-bs-dismiss","modal",1,"btn-custom","btn-custom--sm","btn-custom--blue",3,"click"],["data-bs-dismiss","modal",1,"btn-custom","btn-custom--gray","btn-custom--sm"],["id","dropdownMenuButton1","data-bs-toggle","dropdown",1,"user-info"],[1,"user-info__image"],[1,"user-info__user-name"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu","mt-4"],[1,"dropdown-menu__head"],[1,"d-flex","flex-column"],[1,"user-info__user-email"],["href","#","data-bs-toggle","modal","data-bs-target","#profileModal"],[1,"fas","fa-user"],[4,"ngIf"],["routerLink","/ranking"],[1,"far","fa-hand-peace"],["href","mailto:webmaster@example.com"],[1,"far","fa-question-circle"],["href","#","data-bs-toggle","modal","data-bs-target","#logoutModal"],[1,"fas","fa-sign-out-alt"],["href","#","routerLink","/create-game"],[1,"fas","fa-plus"]],template:function(n,g){1&n&&(t.TgZ(0,"header",0),t.TgZ(1,"div",1),t.TgZ(2,"span",2),t._uU(3,"Trivia"),t.TgZ(4,"b"),t._uU(5,"Game"),t.qZA(),t.qZA(),t.TgZ(6,"span",3),t._uU(7,"Powered by Daniel Aranda"),t.qZA(),t.qZA(),t.TgZ(8,"div",4),t.YNc(9,p,6,2,"div",5),t.YNc(10,h,27,4,"ul",6),t.qZA(),t.qZA(),t.TgZ(11,"div",7),t.TgZ(12,"div",8),t.TgZ(13,"div",9),t.TgZ(14,"div",10),t.TgZ(15,"div",11),t._uU(16," Log out "),t.qZA(),t.TgZ(17,"div",12),t.TgZ(18,"p"),t._uU(19,"Are you sure you want to log out from the app?"),t.qZA(),t.qZA(),t.TgZ(20,"div",13),t.TgZ(21,"button",14),t.NdJ("click",function(){return g.logout()}),t._uU(22,"Yes"),t.qZA(),t.TgZ(23,"button",15),t._uU(24,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(25,"app-profile")),2&n&&(t.xp6(9),t.Q6J("ngIf",g.identity),t.xp6(1),t.Q6J("ngIf",g.identity))},directives:[e.rH,c.O5,Z,e.yS],styles:[""]}),r})()},3077:(y,u,o)=>{o.d(u,{x:()=>c});var t=o(8583),m=o(1686),l=o(2903),e=o(639);let c=(()=>{class d{}return d.\u0275fac=function(p){return new(p||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[[t.ez,l.m,m.Bz]]}),d})()},3071:(y,u,o)=>{o.d(u,{K:()=>h});var t=o(2340),m=o(5917),l=o(3342),e=o(8002),c=o(5304),d=o(639),Z=o(1841),p=o(1686);const f=t.N.API_URL;let h=(()=>{class _{constructor(a,n){this.http=a,this.router=n}getIdentity(){let a=JSON.parse(localStorage.getItem("identity"));return void 0!==a?a:null}register(a){return this.http.post(`${f}/users`,a)}login(a){return this.http.post(`${f}/auth/login`,a)}validateToken(){return this.http.post(`${f}/auth/refresh`,{}).pipe((0,l.b)(a=>{localStorage.setItem("access_token",a.token)}),(0,e.U)(a=>!0),(0,c.K)(a=>(0,m.of)(!1)))}logout(){localStorage.clear(),this.router.navigateByUrl("/auth/login")}}return _.\u0275fac=function(a){return new(a||_)(d.LFG(Z.eN),d.LFG(p.F0))},_.\u0275prov=d.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},8270:(y,u,o)=>{o.d(u,{F:()=>m});var t=o(639);let m=(()=>{class l{constructor(){}firstLetter(c){return c[0].toUpperCase()}showToastMessage(c,d,Z,p,f){f.add({key:c,severity:d,summary:Z,detail:p,life:7e3,closable:!0})}}return l.\u0275fac=function(c){return new(c||l)},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);