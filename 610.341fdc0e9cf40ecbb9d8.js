"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[610],{9574:(h,p,e)=>{e.d(p,{G:()=>Z});var t=e(639),u=e(3071),n=e(8270),d=e(1686),g=e(8583);function l(a,r){if(1&a&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"div",4),t.TgZ(4,"div",5),t._uU(5," My Profile "),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"span"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div",8),t.TgZ(11,"p"),t._uU(12,"Here, you will find all your profile information. Sensitive information will not be displayed."),t.qZA(),t.qZA(),t.TgZ(13,"div",9),t.TgZ(14,"div",10),t.TgZ(15,"div",11),t.TgZ(16,"div",12),t.TgZ(17,"label"),t._uU(18,"Full name"),t.qZA(),t.TgZ(19,"p"),t._uU(20),t.qZA(),t.qZA(),t.TgZ(21,"div",12),t.TgZ(22,"label"),t._uU(23,"Email"),t.qZA(),t.TgZ(24,"p"),t._uU(25),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",13),t.TgZ(27,"div",12),t.TgZ(28,"label"),t._uU(29,"Account Status"),t.qZA(),t.TgZ(30,"p"),t._uU(31),t.qZA(),t.qZA(),t.TgZ(32,"div",12),t.TgZ(33,"label"),t._uU(34,"Account"),t.qZA(),t.TgZ(35,"p"),t._uU(36),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(37,"div",14),t.TgZ(38,"button",15),t._uU(39,"Close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a){const o=t.oxw();t.xp6(9),t.Oqu(o.utilsService.firstLetter(o.identity.fullName)),t.xp6(11),t.Oqu(o.identity.fullName),t.xp6(5),t.Oqu(o.identity.email),t.xp6(6),t.Oqu(!1===o.identity.status?"Disavailale":"Active"),t.xp6(5),t.Oqu("ADMIN_ROLE"===o.identity.role?"Admin Account":"User Account")}}let _=(()=>{class a{constructor(o,c){this.utilsService=o,this.userService=c,this.identity=this.userService.getIdentity()}ngOnInit(){}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(n.F),t.Y36(u.K))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-profile"]],decls:1,vars:1,consts:[["class","modal fade modal-custom modal-custom--profile","id","profileModal","tabindex","-1","aria-labelledby","profileModalLabel","aria-hidden","true",4,"ngIf"],["id","profileModal","tabindex","-1","aria-labelledby","profileModalLabel","aria-hidden","true",1,"modal","fade","modal-custom","modal-custom--profile"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"modal-custom__head"],[1,"modal-custom__body","profile"],[1,"user-info__image"],[1,"profile__head"],[1,"profile__content"],[1,"row"],[1,"col-md-6"],[1,"profile__group"],[1,"col-md-6","ml-3"],[1,"modal-custom__footer","float-end"],["data-bs-dismiss","modal",1,"btn-custom","btn-custom--gray","btn-custom--sm"]],template:function(o,c){1&o&&t.YNc(0,l,40,5,"div",0),2&o&&t.Q6J("ngIf",c.identity)},directives:[g.O5],styles:[".profile[_ngcontent-%COMP%] > .user-info__image[_ngcontent-%COMP%]{margin:auto;font-size:20px;width:5rem;height:5rem}.profile__head[_ngcontent-%COMP%]{margin-top:2rem}.profile__content[_ngcontent-%COMP%]{margin-top:2rem}.profile__group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#e2f3f5}.profile__group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}"]}),a})();function v(a,r){if(1&a&&(t.TgZ(0,"div",16),t.TgZ(1,"div",17),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"span",18),t._uU(5),t.qZA(),t.qZA()),2&a){const o=t.oxw();t.xp6(3),t.Oqu(o.utilsService.firstLetter(o.identity.fullName)),t.xp6(2),t.Oqu(o.identity.fullName)}}function T(a,r){1&a&&(t.TgZ(0,"li"),t.TgZ(1,"a",32),t._UZ(2,"i",33),t._uU(3,"Create Game"),t.qZA(),t.qZA())}function A(a,r){if(1&a&&(t.TgZ(0,"ul",19),t.TgZ(1,"div",20),t.TgZ(2,"div",17),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"div",21),t.TgZ(6,"span",18),t._uU(7),t.qZA(),t.TgZ(8,"span",22),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"li"),t.TgZ(11,"a",23),t._UZ(12,"i",24),t._uU(13,"Profile"),t.qZA(),t.qZA(),t.YNc(14,T,4,0,"li",25),t.TgZ(15,"li"),t.TgZ(16,"a",26),t._UZ(17,"i",27),t._uU(18,"View ranking"),t.qZA(),t.qZA(),t.TgZ(19,"li"),t.TgZ(20,"a",28),t._UZ(21,"i",29),t._uU(22,"Support"),t.qZA(),t.qZA(),t.TgZ(23,"li"),t.TgZ(24,"a",30),t._UZ(25,"i",31),t._uU(26,"Log out"),t.qZA(),t.qZA(),t.qZA()),2&a){const o=t.oxw();t.xp6(4),t.Oqu(o.utilsService.firstLetter(o.identity.fullName)),t.xp6(3),t.Oqu(o.identity.fullName),t.xp6(2),t.Oqu(o.identity.email),t.xp6(5),t.Q6J("ngIf","ADMIN_ROLE"===o.identity.role)}}let Z=(()=>{class a{constructor(o,c){this.userService=o,this.utilsService=c,this.identity=this.userService.getIdentity()}ngOnInit(){}logout(){this.userService.logout()}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(u.K),t.Y36(n.F))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-header"]],decls:26,vars:2,consts:[[1,"header"],["routerLink","/home",1,"logo"],[1,"logo__text"],[1,"logo__subtext"],[1,"dropdown-custom"],["class","user-info","id","dropdownMenuButton1","data-bs-toggle","dropdown",4,"ngIf"],["class","dropdown-menu mt-4","aria-labelledby","dropdownMenuButton1",4,"ngIf"],["id","logoutModal","tabindex","-1","aria-labelledby","logoutModalLabel","aria-hidden","true",1,"modal","fade","modal-custom"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"modal-custom__head"],[1,"modal-custom__body"],[1,"modal-custom__footer","float-end"],["data-bs-dismiss","modal",1,"btn-custom","btn-custom--sm","btn-custom--blue",3,"click"],["data-bs-dismiss","modal",1,"btn-custom","btn-custom--gray","btn-custom--sm"],["id","dropdownMenuButton1","data-bs-toggle","dropdown",1,"user-info"],[1,"user-info__image"],[1,"user-info__user-name"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu","mt-4"],[1,"dropdown-menu__head"],[1,"d-flex","flex-column"],[1,"user-info__user-email"],["href","#","data-bs-toggle","modal","data-bs-target","#profileModal"],[1,"fas","fa-user"],[4,"ngIf"],["routerLink","/ranking"],[1,"far","fa-hand-peace"],["href","mailto:webmaster@example.com"],[1,"far","fa-question-circle"],["href","#","data-bs-toggle","modal","data-bs-target","#logoutModal"],[1,"fas","fa-sign-out-alt"],["href","#","routerLink","/create-game"],[1,"fas","fa-plus"]],template:function(o,c){1&o&&(t.TgZ(0,"header",0),t.TgZ(1,"div",1),t.TgZ(2,"span",2),t._uU(3,"Trivia"),t.TgZ(4,"b"),t._uU(5,"Game"),t.qZA(),t.qZA(),t.TgZ(6,"span",3),t._uU(7,"Powered by Daniel Aranda"),t.qZA(),t.qZA(),t.TgZ(8,"div",4),t.YNc(9,v,6,2,"div",5),t.YNc(10,A,27,4,"ul",6),t.qZA(),t.qZA(),t.TgZ(11,"div",7),t.TgZ(12,"div",8),t.TgZ(13,"div",9),t.TgZ(14,"div",10),t.TgZ(15,"div",11),t._uU(16," Log out "),t.qZA(),t.TgZ(17,"div",12),t.TgZ(18,"p"),t._uU(19,"Are you sure you want to log out from the app?"),t.qZA(),t.qZA(),t.TgZ(20,"div",13),t.TgZ(21,"button",14),t.NdJ("click",function(){return c.logout()}),t._uU(22,"Yes"),t.qZA(),t.TgZ(23,"button",15),t._uU(24,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(25,"app-profile")),2&o&&(t.xp6(9),t.Q6J("ngIf",c.identity),t.xp6(1),t.Q6J("ngIf",c.identity))},directives:[d.rH,g.O5,_,d.yS],styles:[""]}),a})()},3077:(h,p,e)=>{e.d(p,{x:()=>g});var t=e(8583),u=e(1686),n=e(2903),d=e(639);let g=(()=>{class l{}return l.\u0275fac=function(v){return new(v||l)},l.\u0275mod=d.oAB({type:l}),l.\u0275inj=d.cJS({imports:[[t.ez,n.m,u.Bz]]}),l})()},6553:(h,p,e)=>{e.r(p),e.d(p,{RankingModule:()=>S});var t=e(8583),u=e(1686),n=e(639),d=e(2340),g=e(1841);const l=d.N.API_URL;let _=(()=>{class i{constructor(s){this.http=s}getTopRankings(s=5){return this.http.get(`${l}/rankings?topNumber=${s}`)}}return i.\u0275fac=function(s){return new(s||i)(n.LFG(g.eN))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var v=e(8270),T=e(3071),A=e(3013),Z=e(3686),a=e(7703),r=e(2872);const o=function(i){return{"font-size":i}},c=function(i){return{"user-in-ranking":i}};function M(i,m){if(1&i&&(n.TgZ(0,"li",7),n._uU(1),n.TgZ(2,"span",8),n._uU(3),n.qZA(),n._uU(4," points "),n.qZA()),2&i){const s=m.$implicit,f=m.index,y=n.oxw();n.Q6J("ngStyle",n.VKq(5,o,30-(f+8)+"px"))("ngClass",n.VKq(7,c,s.user._id===y.identity.uid)),n.xp6(1),n.hij(" ",s.user.fullName," "),n.xp6(1),n.Q6J("ngStyle",n.VKq(9,o,40-(f+8)+"px")),n.xp6(1),n.Oqu(s.totalScore)}}const C=[{path:"",component:(()=>{class i{constructor(s,f,y,E,k){this.rankingService=s,this.utilsService=f,this.userService=y,this.messageService=E,this.spinner=k,this.topNumber=5,this.rankings=[],this.identity=this.userService.getIdentity()}ngOnInit(){this.getTopRankings(this.topNumber)}getTopRankings(s){this.spinner.show(),this.rankingService.getTopRankings(s).subscribe(f=>{this.rankings=f.rankings,this.spinner.hide()},f=>{console.log(f),this.spinner.hide(),this.utilsService.showToastMessage("rankingPage","error","Error getting rankings","Something went wrong. We could not get ranking players.",this.messageService)})}}return i.\u0275fac=function(s){return new(s||i)(n.Y36(_),n.Y36(v.F),n.Y36(T.K),n.Y36(A.ez),n.Y36(Z.t2))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-ranking"]],decls:11,vars:1,consts:[[1,"ranking-page"],[1,"ranking-page__image"],["src","assets/img/top.png","alt","Top 5 players TriviaGame"],[1,"ranking-page__info"],[1,"ranking-page__players"],[3,"ngStyle","ngClass",4,"ngFor","ngForOf"],["key","rankingPage","position","top-center"],[3,"ngStyle","ngClass"],[1,"ranking-points",3,"ngStyle"]],template:function(s,f){1&s&&(n.TgZ(0,"app-layout"),n.TgZ(1,"div",0),n.TgZ(2,"div",1),n._UZ(3,"img",2),n.qZA(),n.TgZ(4,"div",3),n.TgZ(5,"h3"),n._uU(6,"Top 5 players"),n.qZA(),n.TgZ(7,"div",4),n.TgZ(8,"ul"),n.YNc(9,M,5,11,"li",5),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n._UZ(10,"p-toast",6),n.qZA()),2&s&&(n.xp6(9),n.Q6J("ngForOf",f.rankings))},directives:[a.$,t.sg,r.FN,t.PC,t.mk],styles:[".ranking-page[_ngcontent-%COMP%]{width:50rem;margin:5rem auto 0}.ranking-page__image[_ngcontent-%COMP%]{margin:auto;width:15rem}.ranking-page__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:top;width:100%}.ranking-page__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:24px;margin:2rem 0}.ranking-page__info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-align:center;text-decoration:none;list-style:none}.ranking-page__info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:1rem 0}.ranking-points[_ngcontent-%COMP%]{color:#44c4a1}.user-in-ranking[_ngcontent-%COMP%]{color:#ffea80!important}.user-in-ranking[_ngcontent-%COMP%]   .ranking-points[_ngcontent-%COMP%]{color:#ffea80!important}"]}),i})(),canActivate:[e(5107).a]}];let P=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[u.Bz.forChild(C)],u.Bz]}),i})();var q=e(2903),x=e(3077);let S=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[t.ez,P,q.m,x.x]]}),i})()},3071:(h,p,e)=>{e.d(p,{K:()=>A});var t=e(2340),u=e(5917),n=e(3342),d=e(8002),g=e(5304),l=e(639),_=e(1841),v=e(1686);const T=t.N.API_URL;let A=(()=>{class Z{constructor(r,o){this.http=r,this.router=o}getIdentity(){let r=JSON.parse(localStorage.getItem("identity"));return void 0!==r?r:null}register(r){return this.http.post(`${T}/users`,r)}login(r){return this.http.post(`${T}/auth/login`,r)}validateToken(){return this.http.post(`${T}/auth/refresh`,{}).pipe((0,n.b)(r=>{localStorage.setItem("access_token",r.token)}),(0,d.U)(r=>!0),(0,g.K)(r=>(0,u.of)(!1)))}logout(){localStorage.clear(),this.router.navigateByUrl("/auth/login")}}return Z.\u0275fac=function(r){return new(r||Z)(l.LFG(_.eN),l.LFG(v.F0))},Z.\u0275prov=l.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},8270:(h,p,e)=>{e.d(p,{F:()=>u});var t=e(639);let u=(()=>{class n{constructor(){}firstLetter(g){return g[0].toUpperCase()}showToastMessage(g,l,_,v,T){T.add({key:g,severity:l,summary:_,detail:v,life:7e3,closable:!0})}}return n.\u0275fac=function(g){return new(g||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);