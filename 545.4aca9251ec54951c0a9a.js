"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[545],{7545:(T,u,i)=>{i.r(u),i.d(u,{LoginModule:()=>L});var l=i(8583),e=i(665),m=i(1686),g=i(3077),o=i(639),f=i(3071),a=i(3686),p=i(49);function d(t,r){1&t&&o._UZ(0,"i",15)}function h(t,r){1&t&&(o.TgZ(0,"span",16),o._uU(1,"The password or email is invalid"),o.qZA())}const Z=[{path:"login",component:(()=>{class t{constructor(n,s,c,A){this.fb=n,this.userService=s,this.spinner=c,this.router=A,this.formCustom=new e.cw({}),this.loginFail=!1}ngOnInit(){this.createForm()}createForm(){this.formCustom=this.fb.group({email:["",[e.kI.required,e.kI.pattern("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$")]],password:["",[e.kI.required]]})}onSubmit(){this.formCustom.invalid?this.loginFail=!0:(this.spinner.show(),this.userService.login(this.formCustom.value).subscribe(n=>{this.spinner.hide(),localStorage.setItem("access_token",n.token),localStorage.setItem("identity",JSON.stringify(n.user)),this.router.navigateByUrl("/home")},n=>{this.spinner.hide(),this.loginFail=!0,console.log(n),this.formCustom.controls.password.setValue("")}))}}return t.\u0275fac=function(n){return new(n||t)(o.Y36(e.qu),o.Y36(f.K),o.Y36(a.t2),o.Y36(m.F0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:24,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-md-12","auth"],[1,"box"],[1,"form-custom","mt-4",3,"formGroup","ngSubmit"],[1,"form-custom__group","d-flex","flex-column","mt-3"],[1,"form-custom__label","mb-2"],["type","text","formControlName","email",1,"form-custom__input"],["class","fas fa-exclamation-circle form-custom__group-icon",4,"ngIf"],["class","form-custom__message-error",4,"ngIf"],["type","password","formControlName","password",1,"form-custom__input"],[1,"form-custom__redirect-auth-text"],["routerLink","/auth/register"],["type","submit",1,"btn-custom","btn-custom--large","mt-4"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#1083d5","type","line-scale-pulse-out",3,"fullScreen"],[1,"fas","fa-exclamation-circle","form-custom__group-icon"],[1,"form-custom__message-error"]],template:function(n,s){1&n&&(o._UZ(0,"app-header"),o.TgZ(1,"div",0),o.TgZ(2,"div",1),o.TgZ(3,"div",2),o.TgZ(4,"div",3),o._uU(5," Login "),o.TgZ(6,"form",4),o.NdJ("ngSubmit",function(){return s.onSubmit()}),o.TgZ(7,"div",5),o.TgZ(8,"label",6),o._uU(9,"Email"),o.qZA(),o._UZ(10,"input",7),o.YNc(11,d,1,0,"i",8),o.YNc(12,h,2,0,"span",9),o.qZA(),o.TgZ(13,"div",5),o.TgZ(14,"label",6),o._uU(15,"Password"),o.qZA(),o._UZ(16,"input",10),o.qZA(),o.TgZ(17,"div",11),o.TgZ(18,"a",12),o._uU(19,"Register for free"),o.qZA(),o._uU(20," if you don't have an account. "),o.qZA(),o.TgZ(21,"button",13),o._uU(22," Login "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(23,"ngx-spinner",14)),2&n&&(o.xp6(6),o.Q6J("formGroup",s.formCustom),o.xp6(1),o.ekj("form-custom__group--error",s.loginFail),o.xp6(4),o.Q6J("ngIf",s.loginFail),o.xp6(1),o.Q6J("ngIf",s.loginFail),o.xp6(11),o.Q6J("fullScreen",!0))},directives:[p.G,e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u,l.O5,m.yS,a.Ro],styles:[""]}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[m.Bz.forChild(Z)],m.Bz]}),t})();var C=i(2903);let L=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[l.ez,v,e.UX,m.Bz,C.m,g.x]]}),t})()}}]);