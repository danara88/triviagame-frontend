"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[269],{3939:(U,h,i)=>{i.r(h),i.d(h,{GameModule:()=>J});var e=i(8583),g=i(1686),l=i(5107);class _{constructor(c,o,a,m,A,x,b,y,M,C){this._id=c,this.category=o,this.sentence=a,this.options=m,this.correctAnswer=A,this.selectedOption=x,this.score=b,this.status=y,this.createdAt=M,this.updatedAt=C}}class d{constructor(c,o,a,m,A,x,b,y,M,C){this._id=c,this.user=o,this.category=a,this.totalScore=m,this.startDateTime=A,this.endDateTime=x,this.timeGame=b,this.status=y,this.createdAt=M,this.updatedAt=C}}var t=i(639),v=i(2340),T=i(1841);const Z=v.N.API_URL;let q=(()=>{class n{constructor(o){this.http=o}createGame(o){return this.http.post(`${Z}/games`,{category:o})}endGame(o,a){return this.http.post(`${Z}/games/end-game/${o}`,{totalScore:a})}}return n.\u0275fac=function(o){return new(o||n)(t.LFG(T.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var f=i(2773),r=i(3686),u=i(8270),s=i(3013),p=i(7703),O=i(2872);function P(n,c){if(1&n){const o=t.EpF();t.TgZ(0,"div",10),t.NdJ("click",function(){const A=t.CHM(o).$implicit;return t.oxw(3).selectedOption(A)}),t.TgZ(1,"div",11),t._uU(2),t.qZA(),t.TgZ(3,"div",12),t._uU(4),t.qZA(),t.qZA()}if(2&n){const o=c.$implicit,a=c.index,m=t.oxw(3);t.xp6(2),t.hij(" ",0===a?"a)":1===a?"b)":2===a?"c)":"d)"," "),t.xp6(1),t.ekj("selected-answer",m.activeQuestion.selectedOption===o),t.xp6(1),t.hij(" ",o.content," ")}}function G(n,c){if(1&n&&(t.TgZ(0,"div",8),t.YNc(1,P,5,4,"div",9),t.qZA()),2&n){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.options)}}function S(n,c){if(1&n&&(t.TgZ(0,"div",4),t.TgZ(1,"div",5),t.TgZ(2,"h3"),t._uU(3,"Question "),t.TgZ(4,"strong"),t._uU(5),t.qZA(),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"div",6),t.YNc(8,G,2,1,"div",7),t.qZA(),t.qZA()),2&n){const o=t.oxw();t.xp6(5),t.hij("#",o.numberQuestion,""),t.xp6(1),t.hij(" ",o.activeQuestion.sentence," "),t.xp6(2),t.Q6J("ngIf",o.options.length)}}function E(n,c){if(1&n&&(t.TgZ(0,"div",13),t.TgZ(1,"div",14),t.TgZ(2,"div",15),t._UZ(3,"img",16),t.qZA(),t.TgZ(4,"span"),t._uU(5,"You did great !"),t.qZA(),t.qZA(),t.TgZ(6,"div",17),t.TgZ(7,"h2"),t._uU(8,"Final Results"),t.qZA(),t.TgZ(9,"div",18),t.TgZ(10,"span"),t._uU(11),t.qZA(),t.TgZ(12,"span"),t._uU(13,"Game Time: 00:00:00"),t.qZA(),t.TgZ(14,"span"),t._uU(15),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.qZA(),t.qZA(),t.TgZ(18,"button",19),t._uU(19,"View ranking players"),t.qZA(),t.TgZ(20,"button",20),t._uU(21,"Exit Game"),t.qZA(),t.qZA(),t.qZA()),2&n){const o=t.oxw();t.xp6(11),t.hij("You get ",o.score," points !"),t.xp6(4),t.hij("Total Score: ",o.totalScore,""),t.xp6(2),t.AsE("Your score: ",o.score," / ",o.totalScore,"")}}function Q(n,c){if(1&n&&(t.TgZ(0,"div",13),t.TgZ(1,"div",14),t.TgZ(2,"div",15),t._UZ(3,"img",21),t.qZA(),t.TgZ(4,"span"),t._uU(5,"You did bad :("),t.qZA(),t.qZA(),t.TgZ(6,"div",17),t.TgZ(7,"h2"),t._uU(8,"Final Results"),t.qZA(),t.TgZ(9,"div",18),t.TgZ(10,"span"),t._uU(11),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.qZA(),t.TgZ(14,"span"),t._uU(15),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.qZA(),t.qZA(),t.TgZ(18,"button",19),t._uU(19,"View ranking players"),t.qZA(),t.TgZ(20,"button",20),t._uU(21,"Exit Game"),t.qZA(),t.qZA(),t.qZA()),2&n){const o=t.oxw();t.xp6(11),t.hij("You get ",o.score," points"),t.xp6(2),t.hij("Game Time: ",o.game.timeGame,""),t.xp6(2),t.hij("Total Score: ",o.totalScore,""),t.xp6(2),t.AsE("Your score: ",o.score," / ",o.totalScore,"")}}function I(n,c){if(1&n){const o=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).prevQuestion()}),t._UZ(1,"i",29),t.qZA()}}function w(n,c){if(1&n){const o=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).nextQuestion()}),t._UZ(1,"i",30),t.qZA()}}function D(n,c){if(1&n){const o=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).finishGame()}),t._uU(1,"Finish test"),t.qZA()}}function L(n,c){if(1&n&&(t.TgZ(0,"div",22),t.TgZ(1,"div",23),t.TgZ(2,"span",24),t._uU(3),t.qZA(),t.TgZ(4,"div",25),t.YNc(5,I,2,0,"button",26),t.YNc(6,w,2,0,"button",26),t.qZA(),t.qZA(),t.TgZ(7,"span",24),t.YNc(8,D,2,0,"button",27),t._uU(9),t.qZA(),t.qZA()),2&n){const o=t.oxw();t.xp6(3),t.AsE("",o.answeredQuestions,"/",o.totalQuestions,""),t.xp6(2),t.Q6J("ngIf",1!==o.numberQuestion),t.xp6(1),t.Q6J("ngIf",o.numberQuestion<=o.totalQuestions-1),t.xp6(2),t.Q6J("ngIf",o.numberQuestion===o.totalQuestions||o.answeredQuestions===o.totalQuestions),t.xp6(1),t.hij(" Total questions: ",o.totalQuestions," ")}}const Y=[{path:"",component:(()=>{class n{constructor(o,a,m,A,x,b,y){this.gameService=o,this.questionService=a,this.spinner=m,this.route=A,this.router=x,this.utilsService=b,this.messageService=y,this.numberQuestion=1,this.categoryID="",this.questions=[],this.options=[],this.game=new d,this.activeQuestion=new _,this.totalQuestions=1,this.answeredQuestions=0,this.totalScore=0,this.score=0,this.submittedGame=!1,this.grade=0}ngOnInit(){this.route.params.forEach(o=>{this.categoryID=o.categoryID,this.createGame(),this.getGameQuestions()})}getTotalScore(o){let a=0;return o.forEach(m=>a+=m.score),a}createGame(){this.spinner.show(),this.gameService.createGame(this.categoryID).subscribe(o=>{this.game=o,this.spinner.hide()},o=>{console.log(o),this.spinner.hide(),this.utilsService.showToastMessage("gamePage","error","Error in game creation","Something went wrong. We can not start the game.",this.messageService),this.router.navigateByUrl("/home")})}getGameQuestions(){this.questionService.getQuestionsByCategory(this.categoryID).subscribe(o=>{this.questions=o.questions,this.totalScore=this.getTotalScore(this.questions),0===this.questions.length&&this.router.navigateByUrl("/home"),this.totalQuestions=o.total,this.activeQuestion=this.questions[this.numberQuestion-1],this.options=this.activeQuestion.options||[]},o=>{console.log(o),this.utilsService.showToastMessage("gamePage","error","Error in getting game questions","Something went wrong getting the questions.",this.messageService),this.router.navigateByUrl("/home")})}nextQuestion(){this.numberQuestion<=this.totalQuestions&&(this.numberQuestion++,this.activeQuestion=this.questions[this.numberQuestion-1],this.options=this.activeQuestion.options||[])}prevQuestion(){1!==this.numberQuestion&&(this.numberQuestion--,this.activeQuestion=this.questions[this.numberQuestion-1],this.options=this.activeQuestion.options||[])}selectedOption(o){let a=this.questions.indexOf(this.activeQuestion);this.questions[a].selectedOption=o,this.answeredQuestions=this.questions.filter(m=>m.selectedOption).length}finishGame(){this.questions.forEach(o=>{var a;o.correctAnswer===(null===(a=o.selectedOption)||void 0===a?void 0:a._id)&&!this.submittedGame&&(this.score=this.score+o.score)}),this.grade=this.score/this.totalScore*100,this.submittedGame=!0,this.endGame()}endGame(){this.spinner.show(),this.gameService.endGame(this.game._id,this.score).subscribe(o=>{this.spinner.hide(),this.game=o},o=>{this.spinner.hide(),console.log(o),this.utilsService.showToastMessage("gamePage","error","Error ending game","Something went wrong. We could not end the game.",this.messageService)})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(q),t.Y36(f.a),t.Y36(r.t2),t.Y36(g.gz),t.Y36(g.F0),t.Y36(u.F),t.Y36(s.ez))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-game"]],decls:6,vars:4,consts:[["class","game mt-4",4,"ngIf"],["class","game-finish",4,"ngIf"],["key","gamePage","position","top-center"],["class","game__footer d-flex justify-content-between",4,"ngIf"],[1,"game","mt-4"],[1,"game__question","text-center"],[1,"game__options","d-flex"],["class","game__options-column",4,"ngIf"],[1,"game__options-column"],["class","game__option d-flex align-items-center",3,"click",4,"ngFor","ngForOf"],[1,"game__option","d-flex","align-items-center",3,"click"],[1,"game__option-letter","box","box--green"],[1,"game__option-content","box","w-100"],[1,"game-finish"],[1,"game-finish__head","d-flex","flex-column","align-items-center"],[1,"game-finish__image"],["src","assets/img/like.svg","alt","Good Trivia Game"],[1,"game-finish__content","d-flex","flex-column","align-items-center"],[1,"game-finish__info","d-flex","flex-column","align-items-center"],["routerLink","/ranking",1,"btn-custom","mb-3"],["routerLink","/home",1,"btn-custom"],["src","assets/img/dislike.svg","alt","Good Trivia Game"],[1,"game__footer","d-flex","justify-content-between"],[1,"d-flex"],[1,"game__totalquestions"],[1,"game__buttons"],["class","btn-custom btn-custom--sm btn-custom--gray",3,"click",4,"ngIf"],["class","btn-custom btn-custom--sm",3,"click",4,"ngIf"],[1,"btn-custom","btn-custom--sm","btn-custom--gray",3,"click"],[1,"fas","fa-arrow-left"],[1,"fas","fa-arrow-right"],[1,"btn-custom","btn-custom--sm",3,"click"]],template:function(o,a){1&o&&(t.TgZ(0,"app-layout"),t.YNc(1,S,9,3,"div",0),t.YNc(2,E,22,4,"div",1),t.YNc(3,Q,22,5,"div",1),t._UZ(4,"p-toast",2),t.qZA(),t.YNc(5,L,10,6,"div",3)),2&o&&(t.xp6(1),t.Q6J("ngIf",!a.submittedGame),t.xp6(1),t.Q6J("ngIf",a.submittedGame&&a.grade>=60),t.xp6(1),t.Q6J("ngIf",a.submittedGame&&a.grade<60),t.xp6(2),t.Q6J("ngIf",!a.submittedGame))},directives:[p.$,e.O5,O.FN,e.sg,g.rH],styles:[".game__options[_ngcontent-%COMP%]{margin-top:5rem}.game__options-column[_ngcontent-%COMP%]{width:60rem;margin:0 auto}.game__option[_ngcontent-%COMP%]{margin-bottom:1rem;cursor:pointer;transition:.3s all}.game__option[_ngcontent-%COMP%]:hover{background-color:#212e36;opacity:.7}.game__buttons[_ngcontent-%COMP%]{margin-left:2rem}.game__buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:first-of-type{margin-right:1rem}.game__footer[_ngcontent-%COMP%]{background-color:#000;padding:1rem;position:absolute;bottom:0rem;width:100%}.selected-answer[_ngcontent-%COMP%]{background-color:#44c4a1;color:#e2f3f5}.selected-answer[_ngcontent-%COMP%]:hover{opacity:1!important}.game-finish__head[_ngcontent-%COMP%]{margin-top:5rem}.game-finish__head[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:2rem;font-size:24px}.game-finish__info[_ngcontent-%COMP%]{margin:2rem}.game-finish__content[_ngcontent-%COMP%]{margin-top:2rem}.game-finish__content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#979ea2}.game-finish__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20rem}"]}),n})(),canActivate:[l.a]}];let N=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz.forChild(Y)],g.Bz]}),n})();var F=i(2903),B=i(3077);let J=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[e.ez,N,F.m,B.x]]}),n})()},9574:(U,h,i)=>{i.d(h,{G:()=>f});var e=i(639),g=i(3071),l=i(8270),_=i(1686),d=i(8583);function t(r,u){if(1&r&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e.TgZ(3,"div",4),e.TgZ(4,"div",5),e._uU(5," My Profile "),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"span"),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"div",8),e.TgZ(11,"p"),e._uU(12,"Here, you will find all your profile information. Sensitive information will not be displayed."),e.qZA(),e.qZA(),e.TgZ(13,"div",9),e.TgZ(14,"div",10),e.TgZ(15,"div",11),e.TgZ(16,"div",12),e.TgZ(17,"label"),e._uU(18,"Full name"),e.qZA(),e.TgZ(19,"p"),e._uU(20),e.qZA(),e.qZA(),e.TgZ(21,"div",12),e.TgZ(22,"label"),e._uU(23,"Email"),e.qZA(),e.TgZ(24,"p"),e._uU(25),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",13),e.TgZ(27,"div",12),e.TgZ(28,"label"),e._uU(29,"Account Status"),e.qZA(),e.TgZ(30,"p"),e._uU(31),e.qZA(),e.qZA(),e.TgZ(32,"div",12),e.TgZ(33,"label"),e._uU(34,"Account"),e.qZA(),e.TgZ(35,"p"),e._uU(36),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",14),e.TgZ(38,"button",15),e._uU(39,"Close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r){const s=e.oxw();e.xp6(9),e.Oqu(s.utilsService.firstLetter(s.identity.fullName)),e.xp6(11),e.Oqu(s.identity.fullName),e.xp6(5),e.Oqu(s.identity.email),e.xp6(6),e.Oqu(!1===s.identity.status?"Disavailale":"Active"),e.xp6(5),e.Oqu("ADMIN_ROLE"===s.identity.role?"Admin Account":"User Account")}}let v=(()=>{class r{constructor(s,p){this.utilsService=s,this.userService=p,this.identity=this.userService.getIdentity()}ngOnInit(){}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(l.F),e.Y36(g.K))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-profile"]],decls:1,vars:1,consts:[["class","modal fade modal-custom modal-custom--profile","id","profileModal","tabindex","-1","aria-labelledby","profileModalLabel","aria-hidden","true",4,"ngIf"],["id","profileModal","tabindex","-1","aria-labelledby","profileModalLabel","aria-hidden","true",1,"modal","fade","modal-custom","modal-custom--profile"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"modal-custom__head"],[1,"modal-custom__body","profile"],[1,"user-info__image"],[1,"profile__head"],[1,"profile__content"],[1,"row"],[1,"col-md-6"],[1,"profile__group"],[1,"col-md-6","ml-3"],[1,"modal-custom__footer","float-end"],["data-bs-dismiss","modal",1,"btn-custom","btn-custom--gray","btn-custom--sm"]],template:function(s,p){1&s&&e.YNc(0,t,40,5,"div",0),2&s&&e.Q6J("ngIf",p.identity)},directives:[d.O5],styles:[".profile[_ngcontent-%COMP%] > .user-info__image[_ngcontent-%COMP%]{margin:auto;font-size:20px;width:5rem;height:5rem}.profile__head[_ngcontent-%COMP%]{margin-top:2rem}.profile__content[_ngcontent-%COMP%]{margin-top:2rem}.profile__group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#e2f3f5}.profile__group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}"]}),r})();function T(r,u){if(1&r&&(e.TgZ(0,"div",16),e.TgZ(1,"div",17),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"span",18),e._uU(5),e.qZA(),e.qZA()),2&r){const s=e.oxw();e.xp6(3),e.Oqu(s.utilsService.firstLetter(s.identity.fullName)),e.xp6(2),e.Oqu(s.identity.fullName)}}function Z(r,u){1&r&&(e.TgZ(0,"li"),e.TgZ(1,"a",32),e._UZ(2,"i",33),e._uU(3,"Create Game"),e.qZA(),e.qZA())}function q(r,u){if(1&r&&(e.TgZ(0,"ul",19),e.TgZ(1,"div",20),e.TgZ(2,"div",17),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"div",21),e.TgZ(6,"span",18),e._uU(7),e.qZA(),e.TgZ(8,"span",22),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"li"),e.TgZ(11,"a",23),e._UZ(12,"i",24),e._uU(13,"Profile"),e.qZA(),e.qZA(),e.YNc(14,Z,4,0,"li",25),e.TgZ(15,"li"),e.TgZ(16,"a",26),e._UZ(17,"i",27),e._uU(18,"View ranking"),e.qZA(),e.qZA(),e.TgZ(19,"li"),e.TgZ(20,"a",28),e._UZ(21,"i",29),e._uU(22,"Support"),e.qZA(),e.qZA(),e.TgZ(23,"li"),e.TgZ(24,"a",30),e._UZ(25,"i",31),e._uU(26,"Log out"),e.qZA(),e.qZA(),e.qZA()),2&r){const s=e.oxw();e.xp6(4),e.Oqu(s.utilsService.firstLetter(s.identity.fullName)),e.xp6(3),e.Oqu(s.identity.fullName),e.xp6(2),e.Oqu(s.identity.email),e.xp6(5),e.Q6J("ngIf","ADMIN_ROLE"===s.identity.role)}}let f=(()=>{class r{constructor(s,p){this.userService=s,this.utilsService=p,this.identity=this.userService.getIdentity()}ngOnInit(){}logout(){this.userService.logout()}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(g.K),e.Y36(l.F))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-header"]],decls:26,vars:2,consts:[[1,"header"],["routerLink","/home",1,"logo"],[1,"logo__text"],[1,"logo__subtext"],[1,"dropdown-custom"],["class","user-info","id","dropdownMenuButton1","data-bs-toggle","dropdown",4,"ngIf"],["class","dropdown-menu mt-4","aria-labelledby","dropdownMenuButton1",4,"ngIf"],["id","logoutModal","tabindex","-1","aria-labelledby","logoutModalLabel","aria-hidden","true",1,"modal","fade","modal-custom"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"modal-custom__head"],[1,"modal-custom__body"],[1,"modal-custom__footer","float-end"],["data-bs-dismiss","modal",1,"btn-custom","btn-custom--sm","btn-custom--blue",3,"click"],["data-bs-dismiss","modal",1,"btn-custom","btn-custom--gray","btn-custom--sm"],["id","dropdownMenuButton1","data-bs-toggle","dropdown",1,"user-info"],[1,"user-info__image"],[1,"user-info__user-name"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu","mt-4"],[1,"dropdown-menu__head"],[1,"d-flex","flex-column"],[1,"user-info__user-email"],["href","#","data-bs-toggle","modal","data-bs-target","#profileModal"],[1,"fas","fa-user"],[4,"ngIf"],["routerLink","/ranking"],[1,"far","fa-hand-peace"],["href","mailto:webmaster@example.com"],[1,"far","fa-question-circle"],["href","#","data-bs-toggle","modal","data-bs-target","#logoutModal"],[1,"fas","fa-sign-out-alt"],["href","#","routerLink","/create-game"],[1,"fas","fa-plus"]],template:function(s,p){1&s&&(e.TgZ(0,"header",0),e.TgZ(1,"div",1),e.TgZ(2,"span",2),e._uU(3,"Trivia"),e.TgZ(4,"b"),e._uU(5,"Game"),e.qZA(),e.qZA(),e.TgZ(6,"span",3),e._uU(7,"Powered by Daniel Aranda"),e.qZA(),e.qZA(),e.TgZ(8,"div",4),e.YNc(9,T,6,2,"div",5),e.YNc(10,q,27,4,"ul",6),e.qZA(),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"div",8),e.TgZ(13,"div",9),e.TgZ(14,"div",10),e.TgZ(15,"div",11),e._uU(16," Log out "),e.qZA(),e.TgZ(17,"div",12),e.TgZ(18,"p"),e._uU(19,"Are you sure you want to log out from the app?"),e.qZA(),e.qZA(),e.TgZ(20,"div",13),e.TgZ(21,"button",14),e.NdJ("click",function(){return p.logout()}),e._uU(22,"Yes"),e.qZA(),e.TgZ(23,"button",15),e._uU(24,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(25,"app-profile")),2&s&&(e.xp6(9),e.Q6J("ngIf",p.identity),e.xp6(1),e.Q6J("ngIf",p.identity))},directives:[_.rH,d.O5,v,_.yS],styles:[""]}),r})()},3077:(U,h,i)=>{i.d(h,{x:()=>d});var e=i(8583),g=i(1686),l=i(2903),_=i(639);let d=(()=>{class t{}return t.\u0275fac=function(T){return new(T||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({imports:[[e.ez,l.m,g.Bz]]}),t})()},3071:(U,h,i)=>{i.d(h,{K:()=>q});var e=i(2340),g=i(5917),l=i(3342),_=i(8002),d=i(5304),t=i(639),v=i(1841),T=i(1686);const Z=e.N.API_URL;let q=(()=>{class f{constructor(u,s){this.http=u,this.router=s}getIdentity(){let u=JSON.parse(localStorage.getItem("identity"));return void 0!==u?u:null}register(u){return this.http.post(`${Z}/users`,u)}login(u){return this.http.post(`${Z}/auth/login`,u)}validateToken(){return this.http.post(`${Z}/auth/refresh`,{}).pipe((0,l.b)(u=>{localStorage.setItem("access_token",u.token)}),(0,_.U)(u=>!0),(0,d.K)(u=>(0,g.of)(!1)))}logout(){localStorage.clear(),this.router.navigateByUrl("/auth/login")}}return f.\u0275fac=function(u){return new(u||f)(t.LFG(v.eN),t.LFG(T.F0))},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},8270:(U,h,i)=>{i.d(h,{F:()=>g});var e=i(639);let g=(()=>{class l{constructor(){}firstLetter(d){return d[0].toUpperCase()}showToastMessage(d,t,v,T,Z){Z.add({key:d,severity:t,summary:v,detail:T,life:7e3,closable:!0})}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);